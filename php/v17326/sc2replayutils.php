<?php
/*
    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/

require_once dirname(__FILE__) . "/../sc2replayutils.php";

class SC2ReplayUtilsImpl extends SC2ReplayUtils {

	public static $ABILITYCODES = array(
					    0x020C00 => 'SCV',
					    0x011A20 => 'rally point (Command center)',
					    0x013211 => 'Supply depot',
					    0x013213 => 'Barracks',
					    0x013222 => 'Refinery',
					    0x011810 => 'rally point (Generic)',
					    0x021000 => 'Marine',
					    0x031400 => 'Orbital command',
					    0x020400 => 'Tech lab(Barracks)',
					    0x020410 => 'Tech lab(Barracks)',
					    0x021003 => 'Marauder',
					    0x021001 => 'Reaper',
					    0x017211 => 'Ghost academy',
					    0x017212 => 'Factory',
					    0x020401 => 'Reactor(Barracks)',
					    0x020411 => 'Reactor(Barracks)',
					    0x017213 => 'Starport',
					    0x017215 => 'Armory',
					    0x013210 => 'Command center',
					    0x020600 => 'Tech lab(Factory)',
					    0x020601 => 'Reactor(Factory)',
					    0x020800 => 'Tech lab(Starport)',
					    0x020801 => 'Reactor(Starport)',
					    0x013214 => 'Engineering Bay',
					    0x030F00 => 'Planetary fortress',
					    0x013216 => 'Bunker',
					    0x013215 => 'Missile turret',
					    0x017210 => 'Sensor tower',
					    0x017217 => 'Fusion core',
					    0x020700 => 'liftoff (Factory)',
					    0x020A10 => 'land (Factory)',
					    0x020900 => 'liftoff (Starport)',
					    0x020B10 => 'land (Starport)',
					    0x020500 => 'liftoff (Barracks)',
					    0x020D10 => 'land (Barracks)',
					    0x013100 => 'SCV', // scv autorepair
					    0x010C20 => 'MULE',
					    0x012320 => 'Calldown: Extra supplies (Orbital command)', 
					    0x013C10 => 'Scanner sweep (Orbital command)', 
					    0x021002 => 'Ghost',
					    0x031700 => 'liftoff (Orbital command)',
					    0x031810 => 'land (Orbital command)',
					    0x021900 => 'Personal cloaking',
					    0x021901 => 'Moebius reactor',
					    0x021500 => 'Tactical nuke',
					    0x021601 => 'Combat shield',
					    0x021600 => 'Stim pack',
					    0x021602 => 'Concussive shells',
					    0x021403 => 'Nitro packs',
					    0x020200 => 'liftoff (Command center)',
					    0x020310 => 'land (Command center)',
					    0x021701 => 'Infernal pre-igniter',
					    0x021700 => 'Siege tech',
					    0x021702 => '250mm strike cannons',
					    0x021802 => 'Caduceus reactor',
					    0x021807 => 'Durable materials',
					    0x021806 => 'Seeker missile',
					    0x021803 => 'Corvid reactor',
					    0x021800 => 'Cloaking field',
					    0x021302 => 'Infantry weapons L1',
					    0x021306 => 'Infantry armor L1',
					    0x021300 => 'Hi-sec auto tracking',
					    0x021305 => 'Neosteel frame',
					    0x021301 => 'Structure armor',
					    0x021A05 => 'Vehicle weapons L1',
					    0x021A02 => 'Vehicle plating L1',
					    0x025A03 => 'Ship weapons L1',
					    0x025A00 => 'Ship plating L1',
					    0x021303 => 'Infantry weapons L2',
					    0x021307 => 'Infantry armor L2',
					    0x031C00 => 'Weapon refit',
					    0x031C01 => 'Behemoth reactor',
					    0x021A06 => 'Vehicle weapons L2',
					    0x021A03 => 'Vehicle plating L2',
					    0x025A04 => 'Ship weapons L2',
					    0x025A01 => 'Ship plating L2',
					    0x021304 => 'Infantry weapons L3',
					    0x025300 => 'Infantry armor L3',
					    0x021A07 => 'Vehicle weapons L3',
					    0x021A04 => 'Vehicle plating L3',
					    0x025A05 => 'Ship weapons L3',
					    0x025A02 => 'Ship plating L3',
					    0x021204 => 'Viking',
					    0x021200 => 'Medivac',
					    0x021202 => 'Raven',
					    0x021201 => 'Banshee',
					    0x021203 => 'Battlecruiser',
					    0x021105 => 'Hellion',
					    0x021101 => 'Siege tank',
					    0x021104 => 'Thor',
					    0x013800 => 'Siege mode (Siege tank)',
					    0x013900 => 'Tank mode (Siege tank)',
					    0x033B10 => 'Auto-turret (Raven)',
					    0x003F10 => 'Point defense drone (Raven)',
					    0x013120 => 'repair',
					    0x012420 => '250mm strike cannons (Thor)',
					    0x010B20 => 'Seeker missile (Raven)',
					    0x031F10 => 'Tactical nuclear strike (Ghost)',
					    0x013620 => 'Sniper round (Ghost)',
					    0x032210 => 'EMP round (Ghost)',
					    0x013500 => 'Cloak (Ghost)',
					    0x013501 => 'Decloak (Ghost)',
					    0x013A00 => 'Cloak (Banshee)',
					    0x013A01 => 'Decloak (Banshee)',
					    0x013D20 => 'Yamato cannon (Battlecruiser)',
					    0x033000 => 'Stim pack',
					    0x012200 => 'Stim pack',
					    0x013400 => 'Stim pack',
					    0x032100 => 'salvage (Bunker)',
					    0x020E00 => 'lower a Supply depot',
					    0x020F00 => 'raises a Supply depot',
					    0x013B20 => 'load (Medivac)',
					    0x370203 => 'unload (Medivac)',
					    0x013B12 => 'unload all (Medivac)',
					    0x013E00 => 'Assault mode (Viking)',
					    0x013F00 => 'Fighter mode (Viking)',
					    0x012D00 => 'cancel (Command center)',
					    0x013000 => 'cancel',

					    //zerg
					    0x023200 => 'Drone',
					    0x011C21 => 'worker rally point (Hatchery)',
					    0x011C11 => 'worker rally point (Hatchery)',
					    0x011C20 => 'rally point (Hatchery)',
					    0x011C10 => 'rally point (Hatchery)',
					    0x023202 => 'Overlord',
					    0x022813 => 'Spawning pool',
					    0x022822 => 'Extractor',
					    0x023201 => 'Zergling x 2',
					    0x032400 => 'Queen',
					    0x022814 => 'Evolution chamber',
					    0x033510 => 'Spawn creep tumor (Queen)',
					    0x012120 => 'Spawn larvae (Queen)',
					    0x022B00 => 'mutate into Lair (Hatchery)',
					    0x026817 => 'Spore crawler',
					    0x022810 => 'Hatchery',
					    0x026815 => 'Roach warren',
					    0x022E01 => 'Pneumatized carapace',
					    0x022E03 => 'Burrow',
					    0x022E02 => 'Ventral sacs',
					    0x033A10 => 'Spawn creep tumor (Creep tumor)',
					    0x027201 => 'Roach',
					    0x026812 => 'Baneling nest',
					    0x026816 => 'Spine crawler',
					    0x022815 => 'Hydralisk den',
					    0x023002 => 'Grooved spines',
					    0x023203 => 'Hydralisk',
					    0x026810 => 'Infestation pit',
					    0x022816 => 'Spire',
					    0x031002 => 'Pathogen glands',
					    0x031003 => 'Neural parasite',
					    0x026811 => 'Nydus network',
					    0x022C00 => 'mutate into Hive (Lair)',
					    0x011D01 => 'Glial reconstitution',
					    0x011D02 => 'Tunneling claws',
					    0x031100 => 'Centrifugal hooks',
					    0x027202 => 'Infestor',
					    0x023204 => 'Mutalisk',
					    0x027203 => 'Corruptor',
					    0x022D00 => 'mutate into Greater spire (Spire)',
					    0x022817 => 'Ultralisk cavern',
					    0x033D10 => 'summon Nydus worm (Nydus network)',
					    0x022A00 => 'Melee attacks L1',
					    0x022A06 => 'Missile attacks L1',
					    0x022A03 => 'Ground carapace L1',
					    0x023100 => 'Flyer attacks L1',
					    0x023103 => 'Flyer carapace L1',
					    0x003810 => 'Fungal growth (Infestor)',
					    0x033700 => 'Uproot (Spore crawler)',
					    0x033910 => 'Root (Spore crawler)',
					    0x033600 => 'Uproot (Spine crawler)',
					    0x033810 => 'Root (Spine crawler)',
					    0x023206 => 'Ultralisk',
					    0x030E00 => 'Overseer',
					    0x023300 => 'Brood lord',
					    0x003220 => 'Corruption (Corruptor)',
					    0x032620 => 'uses Transfusion (Queen)',
					    0x012702 => 'Chitinous plating',
					    0x022A01 => 'Melee attacks L2',
					    0x022A07 => 'Missile attacks L2',
					    0x022A04 => 'Ground carapace L2',
					    0x023101 => 'Flyer attacks L2',
					    0x023104 => 'Flyer carapace L2',
					    0x022F01 => 'Metabolic boost',
					    0x022F00 => 'Adrenal glands',
					    0x011F10 => 'Infested Terran',
					    0x022A05 => 'Ground carapace L3',
					    0x026A00 => 'Missile attacks L2',
					    0x022A02 => 'Melee attacks L3',
					    0x023102 => 'Flyer attacks L3',
					    0x023105 => 'Flyer carapace L2',
					    0x030A20 => 'load units (Nydus network)',
					    0x012020 => 'Neural parasite (Infestor)',
					    0x030A33 => 'unload all (Nydus network)',
					    0x011810 => 'rally point (Generic)',
					    0x011100 => 'Changeling',
					    0x040320 => 'Contaminate (Overseer)',
					    0x033400 => 'load units (Overlord)',
					    0x033401 => 'stop using Generate creep (Overlord)',
					    0x030420 => 'load units (Overlord)',
					    0x030433 => 'unload all (Overlord)',
					    0x030412 => 'unload all (Overlord)',
					    0x031200 => 'Burrow (Ultralisk)',
					    0x031300 => 'Unburrow (Ultralisk)',
					    0x030C00 => 'Burrow (Infestor)',
					    0x030D00 => 'Unburrow (Infestor)',
					    0x023600 => 'Burrow (Drone)',
					    0x023700 => 'Unburrow (Drone)',
					    0x023800 => 'Burrow (Hydralisk)',
					    0x023900 => 'Unburrow (Hydralisk)',
					    0x023A00 => 'Burrow (Roach)',
					    0x023B00 => 'Unburrow (Roach)',
					    0x023C00 => 'Burrow (Zergling)',
					    0x023D00 => 'Unburrow (Zergling)',
					    0x003B00 => 'Baneling',
					    0x023400 => 'Burrow (Baneling)',
					    0x023500 => 'Unburrow (Baneling)',
					    0x003600 => 'Explode (Baneling)',
					    0x011E20 => 'Attack building (Baneling)',

					    //protoss
					    0x022000 => 'Probe',
					    0x021B11 => 'Pylon',
					    0x021B22 => 'Assimilator',
					    0x021B13 => 'Gateway',
					    0x012620 => 'Chrono boost (Nexus)',
					    0x021D00 => 'Zealot',
					    0x025B16 => 'Cybernetics core',
					    0x021B14 => 'Forge',
					    0x021D05 => 'Sentry',
					    0x021D01 => 'Stalker',
					    0x021B10 => 'Nexus',
					    0x021B17 => 'Photon cannon',
					    0x031D06 => 'Warp gate',
					    0x021B16 => 'Twilight council',
					    0x025B11 => 'Stargate',
					    0x025B15 => 'Robotics facility',
					    0x025B12 => 'Templar archives',
					    0x021B15 => 'Fleet beacon',
					    0x025B14 => 'Robotics bay',
					    0x025B13 => 'Dark shrine',
					    0x021D03 => 'High templar',
					    0x021D04 => 'Dark templar',
					    0x031500 => 'transform to Warp gate (Gateway)',
					    0x030710 => 'Zealot',
					    0x030715 => 'Sentry',
					    0x030711 => 'Stalker',
					    0x030713 => 'High templar',
					    0x030714 => 'Dark templar',
					    0x031600 => 'transform to Gateway (Warp gate)',
					    0x003C00 => 'Mothership',
					    0x022500 => 'Ground weapons L1',
					    0x022503 => 'Ground armor L1',
					    0x022506 => 'Shields L1',
					    0x031D00 => 'Air weapons L1',
					    0x031D03 => 'Air armor L1',
					    0x035D01 => 'Hallucination',
					    0x022704 => 'Psionic storm',
					    0x022700 => 'Khaydarin amulet',
					    0x003700 => 'Flux vanes',
					    0x003701 => 'Graviton catapult',
					    0x031E00 => 'Charge',
					    0x031E01 => 'Blink',
					    0x021E00 => 'Phoenix',
					    0x021E04 => 'Void ray',
					    0x021E02 => 'Carrier',
					    0x021F01 => 'Observer',
					    0x021F00 => 'Warp prism',
					    0x021F03 => 'Immortal',
					    0x021F02 => 'Colossus',
					    0x022501 => 'Ground weapons L2',
					    0x022504 => 'Ground armor L2',
					    0x022507 => 'Shields L2',
					    0x031D01 => 'Air weapons L2',
					    0x031D04 => 'Air armor L2',
					    0x022601 => 'Gravitic boosters',
					    0x022602 => 'Gravitic drive',
					    0x022605 => 'Extended thermal lance',
					    0x022110 => 'Psionic storm (High templar)',
					    0x003D20 => 'Feedback (High templar)',
					    0x003E10 => 'Mass recall (Mothership)',
					    0x032310 => 'Vortex (Mothership)',
					    0x033C00 => 'Archon',
					    0x031910 => 'Force field (Sentry)',
					    0x003900 => 'Guardian shield (Sentry)',
					    0x010500 => 'Hallucination - Probe (Sentry)',
					    0x010900 => 'Hallucination - Zealot (Sentry)',
					    0x010600 => 'Hallucination - Stalker (Sentry)',
					    0x010300 => 'Hallucination - Immortal (Sentry)',
					    0x010200 => 'Hallucination - High templar (Sentry)',
					    0x004000 => 'Hallucination - Archon (Sentry)',
					    0x010700 => 'Hallucination - Void ray (Sentry)',
					    0x022502 => 'Ground weapons L3',
					    0x022505 => 'Ground armor L3',
					    0x026500 => 'Shields L3',
					    0x031D02 => 'Air weapons L3',
					    0x031D05 => 'Air armor L3',
					    0x030B10 => 'Blink (Stalker)',
					    0x033F20 => 'Charge (Zealot)',
					    0x022400 => 'Interceptor (Carrier)',
					    0x031A00 => 'Phasing mode (Warp prism)',
					    0x031B00 => 'Transport mode (Warp prism)',
					    0x010D20 => 'Graviton beam (Phoenix)',
					    0x010400 => 'Hallucination - Phoenix (Sentry)',
					    0x010800 => 'Hallucination - Warp prism (Sentry)',
					    0x004100 => 'Hallucination - Colossus (Sentry)',
					    0x021C20 => 'load unit (Warp prism)',
					    0x021C22 => 'unload all (Warp prism)',
					    0x021C12 => 'unload all (Warp prism)',

					    0x002810 => 'SCV',
					    0x002600 => 'SCV',


					    //generic
					    0x012920 => 'gather',
					    0x012A01 => 'gather',
					    0x002B20 => 'attack',
					    0x002B10 => 'attack',
					    0x002811 => 'patrol',
					    0x002810 => 'move',
					    0x002600 => 'stop',
					    0x002802 => 'attack',
					    0x022901 => 'return cargo',
					    0x01F206 => 'construct'
	);	

	// returns the ability array for the specified ability ($ability) and game build ($build)
	// return false if the ability code is unknown
	static function getAbilityArray($ability, $build) {
	  return self::$ABILITIES[self::$ABILITYCODES[$ability]];
	}

}
?>
