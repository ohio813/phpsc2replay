<?php
/*
    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/

require_once dirname(__FILE__) . "/../sc2replayutils.php";

class SC2ReplayUtilsImpl extends SC2ReplayUtils {

	public static $ABILITYCODES = array(
		// terran 
		0x020A00 => 'SCV',
		0x011820 => 'rally point (Command center)',
		0x013011 => 'Supply depot',
		0x013013 => 'Barracks',
		0x013022 => 'Refinery',
		0x011610 => 'rally point (Generic)',
		0x020E00 => 'Marine',
		0x031200 => 'Orbital command',
		0x020200 => 'Tech lab(Barracks)',
		0x020210 => 'Tech lab(Barracks)',
		0x020E03 => 'Marauder',
		0x020E01 => 'Reaper',
		0x017011 => 'Ghost academy',
		0x017012 => 'Factory',
		0x020201 => 'Reactor(Barracks)',
		0x020211 => 'Reactor(Barracks)',
		0x017013 => 'Starport',
		0x017015 => 'Armory',
		0x013010 => 'Command center',
		0x020400 => 'Tech lab(Factory)',
		0x020401 => 'Reactor(Factory)',
		0x020600 => 'Tech lab(Starport)',
		0x020601 => 'Reactor(Starport)',
		0x013014 => 'Engineering Bay',
		0x030D00 => 'Planetary fortress',
		0x013016 => 'Bunker',
		0x013015 => 'Missile turret',
		0x017010 => 'Sensor tower',
		0x017017 => 'Fusion core',
		0x020500 => 'liftoff (Factory)',
		0x020810 => 'land (Factory)',
		0x020700 => 'liftoff (Starport)',
		0x020910 => 'land (Starport)',
		0x020300 => 'liftoff (Barracks)',
		0x020B10 => 'land (Barracks)',
		0x012F00 => 'SCV', // scv autorepair
		0x010A20 => 'MULE',
		0x012120 => 'Calldown: Extra supplies (Orbital command)', 
		0x013A10 => 'Scanner sweep (Orbital command)', 
		0x020E02 => 'Ghost',
		0x031500 => 'liftoff (Orbital command)',
		0x031610 => 'land (Orbital command)',
		0x021700 => 'Personal cloaking',
		0x021701 => 'Moebius reactor',
		0x021300 => 'Tactical nuke',
		0x021401 => 'Combat shield',
		0x021400 => 'Stim pack',
		0x021402 => 'Concussive shells',
		0x021203 => 'Nitro packs',
		0x020000 => 'liftoff (Command center)',
		0x020110 => 'land (Command center)',
		0x021501 => 'Infernal pre-igniter',
		0x021500 => 'Siege tech',
		0x021502 => '250mm strike cannons',
		0x021602 => 'Caduceus reactor',
		0x021607 => 'Durable materials',
		0x021606 => 'Seeker missile',
		0x021603 => 'Corvid reactor',
		0x021600 => 'Cloaking field',
		0x021102 => 'Infantry weapons L1',
		0x021106 => 'Infantry armor L1',
		0x021100 => 'Hi-sec auto tracking',
		0x021105 => 'Neosteel frame',
		0x021101 => 'Structure armor',
		0x021805 => 'Vehicle weapons L1',
		0x021802 => 'Vehicle plating L1',
		0x025803 => 'Ship weapons L1',
		0x025800 => 'Ship plating L1',
		0x021103 => 'Infantry weapons L2',
		0x021107 => 'Infantry armor L2',
		0x031A00 => 'Weapon refit',
		0x031A01 => 'Behemoth reactor',
		0x021806 => 'Vehicle weapons L2',
		0x021803 => 'Vehicle plating L2',
		0x025804 => 'Ship weapons L2',
		0x025801 => 'Ship plating L2',
		0x021104 => 'Infantry weapons L3',
		0x025100 => 'Infantry armor L3',
		0x021807 => 'Vehicle weapons L3',
		0x021804 => 'Vehicle plating L3',
		0x025805 => 'Ship weapons L3',
		0x025802 => 'Ship plating L3',
		0x021004 => 'Viking',
		0x021000 => 'Medivac',
		0x021002 => 'Raven',
		0x021001 => 'Banshee',
		0x021003 => 'Battlecruiser',
		0x020F05 => 'Hellion',
		0x020F01 => 'Siege tank',
		0x020F04 => 'Thor',
		0x013600 => 'Siege mode (Siege tank)',
		0x013700 => 'Tank mode (Siege tank)',
		0x033910 => 'Auto-turret (Raven)',
		0x003D10 => 'Point defense drone (Raven)',
		0x012F20 => 'repair',
		0x012220 => '250mm strike cannons (Thor)',
		0x010920 => 'Seeker missile (Raven)',
		0x031D10 => 'Tactical nuclear strike (Ghost)',
		0x013420 => 'Sniper round (Ghost)',
		0x032010 => 'EMP round (Ghost)',
		0x013300 => 'Cloak (Ghost)',
		0x013301 => 'Decloak (Ghost)',
		0x013800 => 'Cloak (Banshee)',
		0x013801 => 'Decloak (Banshee)',
		0x013B20 => 'Yamato cannon (Battlecruiser)',
		0x032E00 => 'Stim pack',
		0x012000 => 'Stim pack',
		0x013200 => 'Stim pack',
		0x031F00 => 'salvage (Bunker)',
		0x020C00 => 'lower a Supply depot',
		0x020D00 => 'raises a Supply depot',
		0x013920 => 'load (Medivac)',
		0x370003 => 'unload (Medivac)',
		0x013912 => 'unload all (Medivac)',
		0x013C00 => 'Assault mode (Viking)',
		0x013D00 => 'Fighter mode (Viking)',
		0x012B00 => 'cancel (Command center)',
		0x012E00 => 'cancel',
		
		//zerg
		0x023000 => 'Drone',
		0x011A21 => 'worker rally point (Hatchery)',
		0x011A11 => 'worker rally point (Hatchery)',
		0x011A20 => 'rally point (Hatchery)',
		0x011A10 => 'rally point (Hatchery)',
		0x023002 => 'Overlord',
		0x022613 => 'Spawning pool',
		0x022622 => 'Extractor',
		0x023001 => 'Zergling x 2',
		0x032200 => 'Queen',
		0x022614 => 'Evolution chamber',
		0x033310 => 'Spawn creep tumor (Queen)',
		0x011F20 => 'Spawn larvae (Queen)',
		0x022900 => 'mutate into Lair (Hatchery)',
		0x026617 => 'Spore crawler',
		0x022610 => 'Hatchery',
		0x026615 => 'Roach warren',
		0x022C01 => 'Pneumatized carapace',
		0x022C03 => 'Burrow',
		0x022C02 => 'Ventral sacs',
		0x033810 => 'Spawn creep tumor (Creep tumor)',
		0x027001 => 'Roach',
		0x026612 => 'Baneling nest',
		0x026616 => 'Spine crawler',
		0x022615 => 'Hydralisk den',
		0x022E02 => 'Grooved spines',
		0x023003 => 'Hydralisk',
		0x026610 => 'Infestation pit',
		0x022616 => 'Spire',
		0x030E02 => 'Pathogen glands',
		0x030E03 => 'Neural parasite',
		0x026611 => 'Nydus network',
		0x022A00 => 'mutate into Hive (Lair)',
		0x011B01 => 'Glial reconstitution',
		0x011B02 => 'Tunneling claws',
		0x030F00 => 'Centrifugal hooks',
		0x027002 => 'Infestor',
		0x023004 => 'Mutalisk',
		0x027003 => 'Corruptor',
		0x022B00 => 'mutate into Greater spire (Spire)',
		0x022617 => 'Ultralisk cavern',
		0x033B10 => 'summon Nydus worm (Nydus network)',
		0x022800 => 'Melee attacks L1',
		0x022806 => 'Missile attacks L1',
		0x022803 => 'Ground carapace L1',
		0x022F00 => 'Flyer attacks L1',
		0x022F03 => 'Flyer carapace L1',
		0x003610 => 'Fungal growth (Infestor)',
		0x033500 => 'Uproot (Spore crawler)',
		0x033710 => 'Root (Spore crawler)',
		0x033400 => 'Uproot (Spine crawler)',
		0x033610 => 'Root (Spine crawler)',
		0x023006 => 'Ultralisk',
		0x030C00 => 'Overseer',
		0x023100 => 'Brood lord',
		0x003020 => 'Corruption (Corruptor)',
		0x032420 => 'uses Transfusion (Queen)',
		0x012502 => 'Chitinous plating',
		0x022801 => 'Melee attacks L2',
		0x022807 => 'Missile attacks L2',
		0x022804 => 'Ground carapace L2',
		0x022F01 => 'Flyer attacks L2',
		0x022F04 => 'Flyer carapace L2',
		0x022D01 => 'Metabolic boost',
		0x022D00 => 'Adrenal glands',
		0x011D10 => 'Infested Terran',
		0x022805 => 'Ground carapace L3',
		0x026800 => 'Missile attacks L2',
		0x022802 => 'Melee attacks L3',
		0x022F02 => 'Flyer attacks L3',
		0x022F05 => 'Flyer carapace L2',
		0x030820 => 'load units (Nydus network)',
		0x011E20 => 'Neural parasite (Infestor)',
		0x030833 => 'unload all (Nydus network)',
		0x011610 => 'rally point (Generic)',
		0x010F00 => 'Changeling',
		0x040120 => 'Contaminate (Overseer)',
		0x033200 => 'load units (Overlord)',
		0x033201 => 'stop using Generate creep (Overlord)',
		0x030220 => 'load units (Overlord)',
		0x030233 => 'unload all (Overlord)',
		0x030212 => 'unload all (Overlord)',
		0x031000 => 'Burrow (Ultralisk)',
		0x031100 => 'Unburrow (Ultralisk)',
		0x030A00 => 'Burrow (Infestor)',
		0x030B00 => 'Unburrow (Infestor)',
		0x023400 => 'Burrow (Drone)',
		0x023500 => 'Unburrow (Drone)',
		0x023600 => 'Burrow (Hydralisk)',
		0x023700 => 'Unburrow (Hydralisk)',
		0x023800 => 'Burrow (Roach)',
		0x023900 => 'Unburrow (Roach)',
		0x023A00 => 'Burrow (Zergling)',
		0x023B00 => 'Unburrow (Zergling)',
		0x003900 => 'Baneling',
		0x023200 => 'Burrow (Baneling)',
		0x023300 => 'Unburrow (Baneling)',
		0x003400 => 'Explode (Baneling)',
		0x011C20 => 'Attack building (Baneling)',
		
		//protoss
		0x021E00 => 'Probe',
		0x021911 => 'Pylon',
		0x021922 => 'Assimilator',
		0x021913 => 'Gateway',
		0x012420 => 'Chrono boost (Nexus)',
		0x021B00 => 'Zealot',
		0x025916 => 'Cybernetics core',
		0x021914 => 'Forge',
		0x021B05 => 'Sentry',
		0x021B01 => 'Stalker',
		0x021910 => 'Nexus',
		0x021917 => 'Photon cannon',
		0x031B06 => 'Warp gate',
		0x021916 => 'Twilight council',
		0x025911 => 'Stargate',
		0x025915 => 'Robotics facility',
		0x025912 => 'Templar archives',
		0x021915 => 'Fleet beacon',
		0x025914 => 'Robotics bay',
		0x025913 => 'Dark shrine',
		0x021B03 => 'High templar',
		0x021B04 => 'Dark templar',
		0x031300 => 'transform to Warp gate (Gateway)',
		0x030510 => 'Zealot',
		0x030515 => 'Sentry',
		0x030511 => 'Stalker',
		0x030513 => 'High templar',
		0x030514 => 'Dark templar',
		0x031400 => 'transform to Gateway (Warp gate)',
		0x003A00 => 'Mothership',
		0x022300 => 'Ground weapons L1',
		0x022303 => 'Ground armor L1',
		0x022306 => 'Shields L1',
		0x031B00 => 'Air weapons L1',
		0x031B03 => 'Air armor L1',
		0x035B01 => 'Hallucination',
		0x022504 => 'Psionic storm',
		0x022500 => 'Khaydarin amulet',
		0x003500 => 'Flux vanes',
		0x003501 => 'Graviton catapult',
		0x031C00 => 'Charge',
		0x031C01 => 'Blink',
		0x021C00 => 'Phoenix',
		0x021C04 => 'Void ray',
		0x021C02 => 'Carrier',
		0x021D01 => 'Observer',
		0x021D00 => 'Warp prism',
		0x021D03 => 'Immortal',
		0x021D02 => 'Colossus',
		0x022301 => 'Ground weapons L2',
		0x022304 => 'Ground armor L2',
		0x022307 => 'Shields L2',
		0x031B01 => 'Air weapons L2',
		0x031B04 => 'Air armor L2',
		0x022401 => 'Gravitic boosters',
		0x022402 => 'Gravitic drive',
		0x022405 => 'Extended thermal lance',
		0x021F10 => 'Psionic storm (High templar)',
		0x003B20 => 'Feedback (High templar)',
		0x003C10 => 'Mass recall (Mothership)',
		0x032110 => 'Vortex (Mothership)',
		0x033A00 => 'Archon',
		0x031710 => 'Force field (Sentry)',
		0x003700 => 'Guardian shield (Sentry)',
		0x010300 => 'Hallucination - Probe (Sentry)',
		0x010700 => 'Hallucination - Zealot (Sentry)',
		0x010400 => 'Hallucination - Stalker (Sentry)',
		0x010100 => 'Hallucination - Immortal (Sentry)',
		0x010000 => 'Hallucination - High templar (Sentry)',
		0x003E00 => 'Hallucination - Archon (Sentry)',
		0x010500 => 'Hallucination - Void ray (Sentry)',
		0x022302 => 'Ground weapons L3',
		0x022305 => 'Ground armor L3',
		0x026300 => 'Shields L3',
		0x031B02 => 'Air weapons L3',
		0x031B05 => 'Air armor L3',
		0x030910 => 'Blink (Stalker)',
		0x033D20 => 'Charge (Zealot)',
		0x022200 => 'Interceptor (Carrier)',
		0x031800 => 'Phasing mode (Warp prism)',
		0x031900 => 'Transport mode (Warp prism)',
		0x010B20 => 'Graviton beam (Phoenix)',
		0x010200 => 'Hallucination - Phoenix (Sentry)',
		0x010600 => 'Hallucination - Warp prism (Sentry)',
		0x003F00 => 'Hallucination - Colossus (Sentry)',
		0x021A20 => 'load unit (Warp prism)',
		0x021A22 => 'unload all (Warp prism)',
		0x021A12 => 'unload all (Warp prism)',
		
		0x002610 => 'SCV',
		0x002400 => 'SCV',

		
		//generic
		0x012720 => 'gather',
		0x012801 => 'gather',
		0x002920 => 'attack',
		0x002910 => 'attack',
		0x002611 => 'patrol',
		0x002610 => 'move',
		0x002400 => 'stop',
		0x002602 => 'attack',
		0x022701 => 'return cargo',
		0x01F006 => 'construct'
	);	

	// returns the ability array for the specified ability ($ability) and game build ($build)
	// return false if the ability code is unknown
	static function getAbilityArray($ability, $build) {
	  return self::$ABILITIES[self::$ABILITYCODES[$ability]];
	}

}
?>
